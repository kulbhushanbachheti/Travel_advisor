(this.webpackJsonptravel_advisor=this.webpackJsonptravel_advisor||[]).push([[0],{102:function(e,t,a){e.exports=a(134)},132:function(e,t){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),i=a.n(l),o=a(14),c=a(175),s=a(173),u=a(30),m=a.n(u),p=a(66),d=a(67),g=a.n(d),f=function(){var e=Object(p.a)(m.a.mark((function e(t,a,n){var r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("https://travel-advisor.p.rapidapi.com/".concat(t,"/list-in-boundary"),{params:{bl_latitude:a.lat,bl_longitude:a.lng,tr_longitude:n.lng,tr_latitude:n.lat},headers:{"x-rapidapi-key":"aa09335b71msh1d3756391ca27a6p1186e1jsn975c7965fc6a","x-rapidapi-host":"travel-advisor.p.rapidapi.com"}});case 3:return r=e.sent,l=r.data.data,e.abrupt("return",l);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t||!a){e.next=7;break}return e.next=4,g.a.get("https://community-open-weather-map.p.rapidapi.com/find",{params:{lat:t,lon:a},headers:{"x-rapidapi-key":"aa09335b71msh1d3756391ca27a6p1186e1jsn975c7965fc6a","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}});case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),b=a(86),y=a(163),v=a(164),E=a(165),w=a(177),j=a(178),O=a(87),C=a.n(O),_=a(60),x=a(161),T=a(19),k=Object(x.a)((function(e){return{title:Object(_.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(_.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(T.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(T.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(_.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),toolbar:{display:"flex",justifyContent:"space-between"}}})),P=function(e){var t=e.onPlaceChanged,a=e.onLoad,n=k();return r.a.createElement(y.a,{position:"static"},r.a.createElement(v.a,{className:n.toolbar},r.a.createElement(E.a,{variant:"h5",className:n.title},"Travel Advisor"),r.a.createElement(w.a,{display:"flex"},r.a.createElement(E.a,{variant:"h6",className:n.title},"Explore new places"),r.a.createElement(b.a,{onLoad:a,onPlaceChanged:t},r.a.createElement("div",{className:n.search},r.a.createElement("div",{className:n.searchIcon},r.a.createElement(C.a,null)),r.a.createElement(j.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput}}))))))},A=a(171),R=a(172),S=a(180),I=a(176),N=a(181),B=a(166),L=a(167),D=a(168),z=a(169),K=a(170),H=a(179),U=(a(132),function(e){var t,a=e.place;return r.a.createElement(B.a,{elevation:6},r.a.createElement(L.a,{style:{height:350},image:a.photo?a.photo.images.large.url:"https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg",title:a.name}),r.a.createElement(D.a,null,r.a.createElement(E.a,{gutterBottom:!0,variant:"h5"},a.name),r.a.createElement(w.a,{display:"flex",justifyContent:"space-between",my:2},r.a.createElement(H.a,{name:"read-only",value:Number(a.rating),readOnly:!0}),r.a.createElement(E.a,{component:"legend"},a.num_reviews," review",a.num_reviews>1&&"s")),r.a.createElement(w.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(E.a,{component:"legend"},"Price"),r.a.createElement(E.a,{gutterBottom:!0,variant:"subtitle1"},a.price_level)),r.a.createElement(w.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(E.a,{component:"legend"},"Ranking"),r.a.createElement(E.a,{gutterBottom:!0,variant:"subtitle1"},a.ranking)),null===a||void 0===a||null===(t=a.awards)||void 0===t?void 0:t.map((function(e){return r.a.createElement(w.a,{display:"flex",justifyContent:"space-between",my:1,alignItems:"center"},r.a.createElement("img",{src:e.images.small}),r.a.createElement(E.a,{variant:"subtitle2",color:"textSecondary"},e.display_name))}))),r.a.createElement(z.a,null,r.a.createElement(K.a,{size:"small",color:"primary",onClick:function(){return window.open(a.web_url,"_blank")}},"Trip Advisor"),r.a.createElement(K.a,{size:"small",color:"primary",onClick:function(){return window.open(a.website,"_blank")}},"Website")))}),W=Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,marginBottom:"30px"},selectEmpty:{marginTop:e.spacing(2)},loading:{height:"600px",display:"flex",justifyContent:"center",alignItems:"center"},container:{padding:"25px"},marginBottom:{marginBottom:"30px"},list:{height:"75vh",overflow:"auto"}}})),Y=function(e){var t=e.places,a=e.type,l=e.setType,i=e.rating,c=e.setRating,u=e.childClicked,m=e.isLoading,p=Object(n.useState)([]),d=Object(o.a)(p,2),g=d[0],f=d[1],h=W();return Object(n.useEffect)((function(){f((function(e){return Array(t.length).fill().map((function(t,a){return e[a]||Object(n.createRef)()}))}))}),[t]),r.a.createElement("div",{className:h.container},r.a.createElement(E.a,{variant:"h4"},"Food & Dining around you"),m?r.a.createElement("div",{className:h.loading},r.a.createElement(A.a,{size:"5rem"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{className:h.formControl},r.a.createElement(S.a,{id:"type"},"Type"),r.a.createElement(I.a,{id:"type",value:a,onChange:function(e){return l(e.target.value)}},r.a.createElement(N.a,{value:"restaurants"},"Restaurants"),r.a.createElement(N.a,{value:"hotels"},"Hotels"),r.a.createElement(N.a,{value:"attractions"},"Attractions"))),r.a.createElement(R.a,{className:h.formControl},r.a.createElement(S.a,{id:"rating"},"Rating"),r.a.createElement(I.a,{id:"rating",value:i,onChange:function(e){return c(e.target.value)}},r.a.createElement(N.a,{value:""},"All"),r.a.createElement(N.a,{value:"3"},"Above 3.0"),r.a.createElement(N.a,{value:"4"},"Above 4.0"),r.a.createElement(N.a,{value:"4.5"},"Above 4.5"))),r.a.createElement(s.a,{container:!0,spacing:3,className:h.list},null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(s.a,{ref:g[t],key:t,item:!0,xs:12},r.a.createElement(U,{selected:Number(u)===t,refProp:g[t],place:e}))})))))},G=a(90),F=a(174),M=a(92),J=a(89),V=a.n(J),Z=[{featureType:"all",elementType:"all",stylers:[{saturation:"32"},{lightness:"-3"},{visibility:"on"},{weight:"1.18"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-70"},{lightness:"14"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{saturation:"100"},{lightness:"-14"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"},{lightness:"12"}]}],q=Object(x.a)((function(){return{paper:{padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100px"},mapContainer:{height:"85vh",width:"100%"},markerContainer:{position:"absolute",transform:"translate(-50%, -50%)",zIndex:1,"&:hover":{zIndex:2}},pointer:{cursor:"pointer"}}})),Q=function(e){var t,a=e.coords,n=e.places,l=e.setCoords,i=e.setBounds,o=e.setChildClicked,c=e.weatherData,s=Object(F.a)("(min-width:600px)"),u=q();return r.a.createElement("div",{className:u.mapContainer},r.a.createElement(G.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyB71UYExI84ft4wgBcBUHu9H6H5f5ErSaM",REACT_APP_RAPID_API_TRAVEL_API_KEY:"aa09335b71msh1d3756391ca27a6p1186e1jsn975c7965fc6a",REACT_APP_RAPID_API_WEATHER_API_KEY:"aa09335b71msh1d3756391ca27a6p1186e1jsn975c7965fc6a"}).REACT_APP_GOOGLE_MAP_API_KEY},defaultCenter:a,center:a,defaultZoom:14,margin:[50,50,50,50],options:{disableDefaultUI:!0,zoomControl:!0,styles:Z},onChange:function(e){l({lat:e.center.lat,lng:e.center.lng}),i({ne:e.marginBounds.ne,sw:e.marginBounds.sw})},onChildClick:function(e){return o(e)}},n.length&&n.map((function(e,t){return r.a.createElement("div",{className:u.markerContainer,lat:Number(e.latitude),lng:Number(e.longitude),key:t},s?r.a.createElement(M.a,{elevation:3,className:u.paper},r.a.createElement(E.a,{className:u.typography,variant:"subtitle2",gutterBottom:!0}," ",e.name),r.a.createElement("img",{className:u.pointer,src:e.photo?e.photo.images.large.url:"https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg"}),r.a.createElement(H.a,{name:"read-only",size:"small",value:Number(e.rating),readOnly:!0})):r.a.createElement(V.a,{color:"primary",fontSize:"large"}))})),(null===c||void 0===c||null===(t=c.list)||void 0===t?void 0:t.length)&&c.list.map((function(e,t){return r.a.createElement("div",{key:t,lat:e.coord.lat,lng:e.coord.lon},r.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),height:"70px"}))}))))},X=function(){var e=Object(n.useState)("restaurants"),t=Object(o.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)({}),g=Object(o.a)(d,2),b=g[0],y=g[1],v=Object(n.useState)(null),E=Object(o.a)(v,2),w=E[0],j=E[1],O=Object(n.useState)([]),C=Object(o.a)(O,2),_=C[0],x=C[1],T=Object(n.useState)([]),k=Object(o.a)(T,2),A=k[0],R=k[1],S=Object(n.useState)([]),I=Object(o.a)(S,2),N=I[0],B=I[1],L=Object(n.useState)(null),D=Object(o.a)(L,2),z=D[0],K=D[1],H=Object(n.useState)(null),U=Object(o.a)(H,2),W=U[0],G=U[1],F=Object(n.useState)(!1),M=Object(o.a)(F,2),J=M[0],V=M[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;y({lat:a,lng:n})}))}),[]),Object(n.useEffect)((function(){var e=N.filter((function(e){return Number(e.rating)>m}));R(e)}),[m]),Object(n.useEffect)((function(){w&&(V(!0),h(b.lat,b.lng).then((function(e){return x(e)})),f(a,w.sw,w.ne).then((function(e){B(e.filter((function(e){return e.name&&e.num_reviews>0}))),R([]),p(""),V(!1)})))}),[w,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(P,{onPlaceChanged:function(){var e=z.getPlace().geometry.location.lat(),t=z.getPlace().geometry.location.lng();y({lat:e,lng:t})},onLoad:function(e){return K(e)}}),r.a.createElement(s.a,{container:!0,spacing:3,style:{width:"100%"}},r.a.createElement(s.a,{item:!0,xs:12,md:4},r.a.createElement(Y,{isLoading:J,childClicked:W,places:A.length?A:N,type:a,setType:l,rating:m,setRating:p})),r.a.createElement(s.a,{item:!0,xs:12,md:8,style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Q,{setChildClicked:G,setBounds:j,setCoords:y,coords:b,places:A.length?A:N,weatherData:_}))))};i.a.render(r.a.createElement(X,null),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.432ea19d.chunk.js.map